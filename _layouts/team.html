<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }} - CoMPhy Lab</title>

  <script>
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>

  <!-- Font dependencies -->
  <script src="https://kit.fontawesome.com/b1cfd9ca75.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/assets/css/fontello/css/fontello.css">
  <link rel="stylesheet" href="/assets/css/academicons-1.7.0/css/academicons.min.css">
  <!-- Site styles -->
  <link rel="stylesheet" href="/assets/css/vendor.css">
  <link rel="stylesheet" href="/assets/css/styles.css">

  <!-- Preload critical assets -->
  <link rel="preload" as="style" href="/assets/css/styles.css">
  <link rel="preload" as="script" href="/assets/js/main.js">
  
  <!-- Preconnect to external domains -->
  <link rel="preconnect" href="https://github.com">

  {% for member in team_members limit:1 %}
    {% if member.details contains '<img' %}
      {% assign image_src = member.details | split: 'src="' | last | split: '"' | first %}
      <link rel="preload" as="image" href="{{ image_src | replace: '.webp', '-small.webp' }}" />
    {% endif %}
  {% endfor %}
</head>
<body id="top">

  <div id="preloader">
    <div id="loader"></div>
  </div>

  <div id="page" class="s-pagewrap">
    <header class="s-header">
      <div class="s-header__logo">
        <a class="logo" href="/index.html">
          <img src="/assets/logos/CoMPhy-Lab-no-name.png" alt="CoMPhy Lab">
        </a>
      </div>
      <a class="s-header__menu-toggle" href="#0">
        <span class="s-header__menu-text">Menu</span>
        <span class="s-header__menu-icon"></span>
      </a>
      <nav class="s-header__nav">
        <a href="#0" class="s-header__nav-close-btn"><span>Close</span></a>
        <ul class="s-header__nav-list">
          <li style="background: none;"><a href="https://github.com/comphy-lab" style="background: none; padding: 0;"><i class="fa-brands fa-github" style="font-size: 1.75em;"></i></a></li>
          <li><a href="/#about">About</a></li>
          <li><a href="/team">Team</a></li>
          <li><a href="/research">Research</a></li>
          <li><a href="https://publish.obsidian.md/comphy-lab/README" target="_blank">Blog</a></li>
        </ul>
      </nav>
    </header>

    <!-- Team Section -->
    <section class="s-team">
      <div class="s-team__desc">
        <h1>{{ page.title }}</h1>
      </div>
      
      {% assign content_html = content | markdownify %}
      {% assign sections = content_html | split: '<h1' %}
      
      {% for section in sections offset:1 %}
        {% assign section_content = section | split: '</h1>' %}
        {% assign section_title = section_content[0] | split: '>' | last %}
        {% assign section_members = section_content[1] | split: '<h2' %}
        
        <div class="team-section">
          <h1>{{ section_title }}</h1>
          <div class="team-grid">
            {% for member in section_members offset:1 %}
              <div class="team-member">
                {% assign member_content = member | split: '</h2>' %}
                {% assign member_name = member_content[0] | split: '>' | last %}
                {% assign member_details = member_content[1] %}
                
                {% if member_details contains '<img' %}
                  {% assign image_parts = member_details | split: '<img' %}
                  {% assign image_tag = image_parts[1] | split: '>' | first %}
                  {% assign image_src = image_tag | split: 'src="' | last | split: '"' | first %}
                  {% assign image_alt = image_tag | split: 'alt="' | last | split: '"' | first %}
                  <div class="member-image">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E"
                         data-src="{{ image_src }}"
                         alt="{{ image_alt }}"
                         loading="lazy"
                         width="250"
                         height="250"
                         fetchpriority="low"
                         decoding="async">
                  </div>
                  {% assign member_details = member_details | replace_first: image_tag, '' | replace: '<img>', '' | replace: '<img', '' %}
                {% endif %}
                
                <div class="member-content">
                  <h2>{{ member_name }}</h2>
                  {{ member_details }}
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </section>

    <footer id="colophon" class="s-footer">
      <div class="row">
        <div class="column lg-12 ss-copyright">
          <span>Â© Copyright CoMPhy Lab {{ 'now' | date: "%Y" }}</span>
        </div>
      </div>
      <div class="ss-go-top">
        <a class="smoothscroll" title="Back to Top" href="#top">Top</a>
      </div>
    </footer>

  </div>

  <script src="/assets/js/plugins.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="/assets/js/main.js"></script>
</body>
</html> 